<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/water.css@2/out/water.css">
<title>src/forma/scanner.cc</title>
</head>
<body>
<h1>src/forma/scanner.cc</h1>
<span id='cppcoreguidelines-use-default-member-init'>&nbsp;</span>
<span id='modernize-use-default-member-init'>&nbsp;</span>
<hr>
<h3>warning: use default member initializer for &#39;insideCodeBlock&#39;</h3>
<code>[cppcoreguidelines-use-default-member-init,modernize-use-default-member-init]</code>
<p><i>src/forma/scanner.cc 43 : 7</i></p>
<pre>
   43 |         bool insideCodeBlock;
      |              ^              
      |                             {false}
   44 |         std::vector&lt;Error&gt; errors;
   45 |         std::vector&lt;Token&gt; ret;
   46 | 
   47 |         Scanner(const std::string&amp; f, const std::string&amp; s)
   48 |                 : file(f)
   49 |                 , source(s)
   50 |                 , start(ScannerLocation{1, 0, 0})
   51 |                 , current(start)
   52 |                 , insideCodeBlock(false)
      |                   ~~~~~~~~~~~~~~~~~~~~~~
</pre>
<span id='readability-identifier-naming'>&nbsp;</span>
<hr>
<h3>warning: invalid case style for public member &#39;insideCodeBlock&#39;</h3>
<code>[readability-identifier-naming]</code>
<p><i>src/forma/scanner.cc 43 : 7</i></p>
<pre>
</pre>
<span id='modernize-use-emplace'>&nbsp;</span>
<hr>
<h3>warning: unnecessary temporary object created while calling emplace_back</h3>
<code>[modernize-use-emplace]</code>
<p><i>src/forma/scanner.cc 67 : 20</i></p>
<pre>
   67 |                 ret.emplace_back(Token{TokenType::Eof, &quot;&quot;, Location{file, current.Line, current.Offset}, &quot;&quot;}
      |                                  ^~~~~~                                                                    ~
</pre>
<hr>
<h3>warning: invalid case style for public method &#39;ReportError&#39;</h3>
<code>[readability-identifier-naming]</code>
<p><i>src/forma/scanner.cc 77 : 7</i></p>
<pre>
   77 |         void ReportError(const Location&amp; loc, const std::string&amp; message)
      |              ^~~~~~~~~~~
      |              report_error
</pre>
<hr>
<h3>warning: invalid case style for public method &#39;ScanToken&#39;</h3>
<code>[readability-identifier-naming]</code>
<p><i>src/forma/scanner.cc 82 : 21</i></p>
<pre>
   61 |         std::vector&lt;Token&gt; ScanToken()
      |                            ^~~~~~~~~
      |                            scan_token
</pre>
<span id='readability-braces-around-statements'>&nbsp;</span>
<hr>
<h3>warning: statement should be inside braces</h3>
<code>[readability-braces-around-statements]</code>
<p><i>src/forma/scanner.cc 87 : 24</i></p>
<pre>
   87 |                         if (tok.has_value()) return {*tok};
      |                                             ^              
      |                                              {
</pre>
<hr>
<h3>warning: invalid case style for local variable &#39;beforeStart&#39;</h3>
<code>[readability-identifier-naming]</code>
<p><i>src/forma/scanner.cc 93 : 10</i></p>
<pre>
   93 |                                 auto beforeStart = current;
      |                                      ^~~~~~~~~~~
      |                                      before_start
   94 |                                 auto c = Advance();
   95 |                                 if (c == &#39;{&#39; &amp;&amp; Match(&#39;{&#39;))
   96 |                                 {
   97 |                                         auto beginType = TokenType::BeginCode;
   98 |                                         if (Peek() == &#39;-&#39;)
   99 |                                         {
  100 |                                                 Advance();
  101 |                                                 beginType = TokenType::BeginCodeTrim;
  102 |                                         }
  103 |                                         auto afterStart = current;
  104 |                                         auto text = CreateToken(TokenType::Text, std::nullopt, start, beforeStart);
      |                                                                                                       ~~~~~~~~~~~
      |                                                                                                       before_start
</pre>
<hr>
<h3>warning: invalid case style for local variable &#39;beginType&#39;</h3>
<code>[readability-identifier-naming]</code>
<p><i>src/forma/scanner.cc 97 : 11</i></p>
<pre>
   97 |                                         auto beginType = TokenType::BeginCode;
      |                                              ^~~~~~~~~
      |                                              begin_type
   98 |                                         if (Peek() == &#39;-&#39;)
   99 |                                         {
  100 |                                                 Advance();
  101 |                                                 beginType = TokenType::BeginCodeTrim;
      |                                                 ~~~~~~~~~
      |                                                 begin_type
</pre>
<hr>
<h3>warning: invalid case style for local variable &#39;afterStart&#39;</h3>
<code>[readability-identifier-naming]</code>
<p><i>src/forma/scanner.cc 103 : 11</i></p>
<pre>
  103 |                                         auto afterStart = current;
      |                                              ^~~~~~~~~~
      |                                              after_start
</pre>
<span id='readability-container-size-empty'>&nbsp;</span>
<hr>
<h3>warning: the &#39;empty&#39; method should be used to check for emptiness instead of &#39;length&#39;</h3>
<code>[readability-container-size-empty]</code>
<p><i>src/forma/scanner.cc 107 : 10</i></p>
<pre>
  107 |                                         if (text.Value.length() &gt; 0)
      |                                             ^~~~~~~~~~~~~~~~~~~~~~~
      |                                             !text.Value.empty()
</pre>
<hr>
<h3>note: method &#39;basic_string&#39;:: empty() defined here</h3>
<p><i>../../../../../usr/include/c++/14/bits/basic_string.h 1231 : 7</i></p>
<pre>
 1231 |       empty() const _GLIBCXX_NOEXCEPT
      |       ^
</pre>
<hr>
<h3>warning: the &#39;empty&#39; method should be used to check for emptiness instead of &#39;length&#39;</h3>
<code>[readability-container-size-empty]</code>
<p><i>src/forma/scanner.cc 121 : 9</i></p>
<pre>
  121 |                                 if (text.Value.length() &gt; 0)
      |                                     ^~~~~~~~~~~~~~~~~~~~~~~
      |                                     !text.Value.empty()
</pre>
<hr>
<h3>note: method &#39;basic_string&#39;:: empty() defined here</h3>
<p><i>../../../../../usr/include/c++/14/bits/basic_string.h 1231 : 7</i></p>
<pre>
 1231 |       empty() const _GLIBCXX_NOEXCEPT
      |       ^
</pre>
<hr>
<h3>warning: invalid case style for public method &#39;ScanCodeToken&#39;</h3>
<code>[readability-identifier-naming]</code>
<p><i>src/forma/scanner.cc 131 : 23</i></p>
<pre>
   86 |         std::optional&lt;Token&gt; ScanCodeToken()
      |                              ^~~~~~~~~~~~~
      |                              scan_code_token
</pre>
<span id='google-readability-braces-around-statements'>&nbsp;</span>
<hr>
<h3>warning: statement should be inside braces</h3>
<code>[google-readability-braces-around-statements,readability-braces-around-statements]</code>
<p><i>src/forma/scanner.cc 216 : 28</i></p>
<pre>
  216 |                                 while (IsDigit(Peek()))
      |                                                        ^
      |                                                         {
  217 |                                         Advance();
      |                                                   
</pre>
<hr>
<h3>warning: statement should be inside braces</h3>
<code>[google-readability-braces-around-statements,readability-braces-around-statements]</code>
<p><i>src/forma/scanner.cc 225 : 29</i></p>
<pre>
  225 |                                         while (IsDigit(Peek()))
      |                                                                ^
      |                                                                 {
  226 |                                                 Advance();
      |                                                           
</pre>
<hr>
<h3>warning: statement should be inside braces</h3>
<code>[google-readability-braces-around-statements,readability-braces-around-statements]</code>
<p><i>src/forma/scanner.cc 233 : 35</i></p>
<pre>
  233 |                                 while (IsAlphaNumeric(Peek()))
      |                                                               ^
      |                                                                {
  234 |                                         Advance();
      |                                                   
</pre>
<hr>
<h3>warning: invalid case style for class method &#39;IsDigit&#39;</h3>
<code>[readability-identifier-naming]</code>
<p><i>src/forma/scanner.cc 268 : 14</i></p>
<pre>
  214 |         static bool IsDigit(char c)
      |                     ^~~~~~~
      |                     is_digit
  215 |         {
  216 |                 return c &gt;= &#39;0&#39; &amp;&amp; c &lt;= &#39;9&#39;;
  217 |         }
  218 | 
  219 |         static bool IsAlpha(char c)
  220 |         {
  221 |                 return (&#39;a&#39; &lt;= c &amp;&amp; c &lt;= &#39;z&#39;) || (&#39;A&#39; &lt;= c &amp;&amp; c &lt;= &#39;Z&#39;) || c == &#39;_&#39;;
  222 |         }
  223 | 
  224 |         static bool IsAlphaNumeric(char c)
  225 |         {
  226 |                 return IsAlpha(c) || IsDigit(c);
      |                                      ~~~~~~~
      |                                      is_digit
</pre>
<hr>
<h3>warning: invalid case style for class method &#39;IsAlpha&#39;</h3>
<code>[readability-identifier-naming]</code>
<p><i>src/forma/scanner.cc 273 : 14</i></p>
<pre>
  231 |         static bool IsAlpha(char c)
      |                     ^~~~~~~
      |                     is_alpha
  232 |         {
  233 |                 return (&#39;a&#39; &lt;= c &amp;&amp; c &lt;= &#39;z&#39;) || (&#39;A&#39; &lt;= c &amp;&amp; c &lt;= &#39;Z&#39;) || c == &#39;_&#39;;
  234 |         }
  235 | 
  236 |         static bool IsAlphaNumeric(char c)
  237 |         {
  238 |                 return IsAlpha(c) || IsDigit(c);
      |                        ~~~~~~~
      |                        is_alpha
</pre>
<hr>
<h3>warning: invalid case style for class method &#39;IsAlphaNumeric&#39;</h3>
<code>[readability-identifier-naming]</code>
<p><i>src/forma/scanner.cc 278 : 14</i></p>
<pre>
  233 |         static bool IsAlphaNumeric(char c)
      |                     ^~~~~~~~~~~~~~
      |                     is_alpha_numeric
</pre>
<hr>
<h3>warning: invalid case style for public method &#39;NextChar&#39;</h3>
<code>[readability-identifier-naming]</code>
<p><i>src/forma/scanner.cc 283 : 18</i></p>
<pre>
  283 |         ScannerLocation NextChar()
      |                         ^~~~~~~~
      |                         next_char
</pre>
<span id='readability-make-member-function-const'>&nbsp;</span>
<hr>
<h3>warning: method &#39;NextChar&#39; can be made const</h3>
<code>[readability-make-member-function-const]</code>
<p><i>src/forma/scanner.cc 283 : 18</i></p>
<pre>
  283 |         ScannerLocation NextChar()
      |                         ^         
      |                                    const
</pre>
<hr>
<h3>warning: invalid case style for public method &#39;Match&#39;</h3>
<code>[readability-identifier-naming]</code>
<p><i>src/forma/scanner.cc 288 : 7</i></p>
<pre>
   95 |         bool Match(char expected)
      |              ^~~~~
      |              match
</pre>
<hr>
<h3>warning: invalid case style for public method &#39;Peek&#39;</h3>
<code>[readability-identifier-naming]</code>
<p><i>src/forma/scanner.cc 303 : 7</i></p>
<pre>
   98 |         char Peek()
      |              ^~~~
      |              peek
</pre>
<hr>
<h3>warning: invalid case style for public method &#39;PeekNext&#39;</h3>
<code>[readability-identifier-naming]</code>
<p><i>src/forma/scanner.cc 308 : 7</i></p>
<pre>
  173 |         char PeekNext()
      |              ^~~~~~~~
      |              peek_next
</pre>
<hr>
<h3>warning: invalid case style for local variable &#39;suggestedIndex&#39;</h3>
<code>[readability-identifier-naming]</code>
<p><i>src/forma/scanner.cc 310 : 8</i></p>
<pre>
  310 |                 auto suggestedIndex = current.Index + 1;
      |                      ^~~~~~~~~~~~~~
      |                      suggested_index
  311 |                 return suggestedIndex &gt;= source.size() ? &#39;\0&#39; : source[suggestedIndex];
      |                        ~~~~~~~~~~~~~~                                  ~~~~~~~~~~~~~~
      |                        suggested_index                                 suggested_index
</pre>
<hr>
<h3>warning: invalid case style for public method &#39;Advance&#39;</h3>
<code>[readability-identifier-naming]</code>
<p><i>src/forma/scanner.cc 314 : 7</i></p>
<pre>
   94 |         char Advance()
      |              ^~~~~~~
      |              advance
</pre>
<hr>
<h3>warning: invalid case style for public method &#39;GetStartLocation&#39;</h3>
<code>[readability-identifier-naming]</code>
<p><i>src/forma/scanner.cc 327 : 11</i></p>
<pre>
  139 |         Location GetStartLocation(std::optional&lt;ScannerLocation&gt; stt = std::nullopt)
      |                  ^~~~~~~~~~~~~~~~
      |                  get_start_location
</pre>
<hr>
<h3>warning: invalid case style for public method &#39;CreateToken&#39;</h3>
<code>[readability-identifier-naming]</code>
<p><i>src/forma/scanner.cc 333 : 8</i></p>
<pre>
  104 |         Token CreateToken(
      |               ^~~~~~~~~~~
      |               create_token
</pre>
<hr>
<h3>warning: invalid case style for public method &#39;IsAtEnd&#39;</h3>
<code>[readability-identifier-naming]</code>
<p><i>src/forma/scanner.cc 346 : 7</i></p>
<pre>
   58 |         bool IsAtEnd()
      |              ^~~~~~~
      |              is_at_end
</pre>
<hr>
<h3>warning: method &#39;IsAtEnd&#39; can be made const</h3>
<code>[readability-make-member-function-const]</code>
<p><i>src/forma/scanner.cc 346 : 7</i></p>
<pre>
  346 |         bool IsAtEnd()
      |              ^        
      |                        const
</pre>
<!--
/home/runner/work/forma/forma/src/forma/scanner.cc:43:7: warning: use default member initializer for 'insideCodeBlock' [cppcoreguidelines-use-default-member-init,modernize-use-default-member-init]
   43 |         bool insideCodeBlock;
      |              ^              
      |                             {false}
   44 |         std::vector<Error> errors;
   45 |         std::vector<Token> ret;
   46 | 
   47 |         Scanner(const std::string& f, const std::string& s)
   48 |                 : file(f)
   49 |                 , source(s)
   50 |                 , start(ScannerLocation{1, 0, 0})
   51 |                 , current(start)
   52 |                 , insideCodeBlock(false)
      |                   ~~~~~~~~~~~~~~~~~~~~~~
/home/runner/work/forma/forma/src/forma/scanner.cc:43:7: warning: invalid case style for public member 'insideCodeBlock' [readability-identifier-naming]
note: this fix will not be applied because it overlaps with another fix
/home/runner/work/forma/forma/src/forma/scanner.cc:67:20: warning: unnecessary temporary object created while calling emplace_back [modernize-use-emplace]
   67 |                 ret.emplace_back(Token{TokenType::Eof, "", Location{file, current.Line, current.Offset}, ""}
      |                                  ^~~~~~                                                                    ~
/home/runner/work/forma/forma/src/forma/scanner.cc:77:7: warning: invalid case style for public method 'ReportError' [readability-identifier-naming]
   77 |         void ReportError(const Location& loc, const std::string& message)
      |              ^~~~~~~~~~~
      |              report_error
/home/runner/work/forma/forma/src/forma/scanner.cc:82:21: warning: invalid case style for public method 'ScanToken' [readability-identifier-naming]
   61 |         std::vector<Token> ScanToken()
      |                            ^~~~~~~~~
      |                            scan_token
/home/runner/work/forma/forma/src/forma/scanner.cc:87:24: warning: statement should be inside braces [readability-braces-around-statements]
   87 |                         if (tok.has_value()) return {*tok};
      |                                             ^              
      |                                              {
/home/runner/work/forma/forma/src/forma/scanner.cc:93:10: warning: invalid case style for local variable 'beforeStart' [readability-identifier-naming]
   93 |                                 auto beforeStart = current;
      |                                      ^~~~~~~~~~~
      |                                      before_start
   94 |                                 auto c = Advance();
   95 |                                 if (c == '{' && Match('{'))
   96 |                                 {
   97 |                                         auto beginType = TokenType::BeginCode;
   98 |                                         if (Peek() == '-')
   99 |                                         {
  100 |                                                 Advance();
  101 |                                                 beginType = TokenType::BeginCodeTrim;
  102 |                                         }
  103 |                                         auto afterStart = current;
  104 |                                         auto text = CreateToken(TokenType::Text, std::nullopt, start, beforeStart);
      |                                                                                                       ~~~~~~~~~~~
      |                                                                                                       before_start
/home/runner/work/forma/forma/src/forma/scanner.cc:97:11: warning: invalid case style for local variable 'beginType' [readability-identifier-naming]
   97 |                                         auto beginType = TokenType::BeginCode;
      |                                              ^~~~~~~~~
      |                                              begin_type
   98 |                                         if (Peek() == '-')
   99 |                                         {
  100 |                                                 Advance();
  101 |                                                 beginType = TokenType::BeginCodeTrim;
      |                                                 ~~~~~~~~~
      |                                                 begin_type
/home/runner/work/forma/forma/src/forma/scanner.cc:103:11: warning: invalid case style for local variable 'afterStart' [readability-identifier-naming]
  103 |                                         auto afterStart = current;
      |                                              ^~~~~~~~~~
      |                                              after_start
/home/runner/work/forma/forma/src/forma/scanner.cc:107:10: warning: the 'empty' method should be used to check for emptiness instead of 'length' [readability-container-size-empty]
  107 |                                         if (text.Value.length() > 0)
      |                                             ^~~~~~~~~~~~~~~~~~~~~~~
      |                                             !text.Value.empty()
/usr/bin/../lib/gcc/x86_64-linux-gnu/14/../../../../include/c++/14/bits/basic_string.h:1231:7: note: method 'basic_string'::empty() defined here
 1231 |       empty() const _GLIBCXX_NOEXCEPT
      |       ^
/home/runner/work/forma/forma/src/forma/scanner.cc:121:9: warning: the 'empty' method should be used to check for emptiness instead of 'length' [readability-container-size-empty]
  121 |                                 if (text.Value.length() > 0)
      |                                     ^~~~~~~~~~~~~~~~~~~~~~~
      |                                     !text.Value.empty()
/usr/bin/../lib/gcc/x86_64-linux-gnu/14/../../../../include/c++/14/bits/basic_string.h:1231:7: note: method 'basic_string'::empty() defined here
 1231 |       empty() const _GLIBCXX_NOEXCEPT
      |       ^
/home/runner/work/forma/forma/src/forma/scanner.cc:131:23: warning: invalid case style for public method 'ScanCodeToken' [readability-identifier-naming]
   86 |         std::optional<Token> ScanCodeToken()
      |                              ^~~~~~~~~~~~~
      |                              scan_code_token
/home/runner/work/forma/forma/src/forma/scanner.cc:216:28: warning: statement should be inside braces [google-readability-braces-around-statements,readability-braces-around-statements]
  216 |                                 while (IsDigit(Peek()))
      |                                                        ^
      |                                                         {
  217 |                                         Advance();
      |                                                   
/home/runner/work/forma/forma/src/forma/scanner.cc:225:29: warning: statement should be inside braces [google-readability-braces-around-statements,readability-braces-around-statements]
  225 |                                         while (IsDigit(Peek()))
      |                                                                ^
      |                                                                 {
  226 |                                                 Advance();
      |                                                           
/home/runner/work/forma/forma/src/forma/scanner.cc:233:35: warning: statement should be inside braces [google-readability-braces-around-statements,readability-braces-around-statements]
  233 |                                 while (IsAlphaNumeric(Peek()))
      |                                                               ^
      |                                                                {
  234 |                                         Advance();
      |                                                   
/home/runner/work/forma/forma/src/forma/scanner.cc:268:14: warning: invalid case style for class method 'IsDigit' [readability-identifier-naming]
  214 |         static bool IsDigit(char c)
      |                     ^~~~~~~
      |                     is_digit
  215 |         {
  216 |                 return c >= '0' && c <= '9';
  217 |         }
  218 | 
  219 |         static bool IsAlpha(char c)
  220 |         {
  221 |                 return ('a' <= c && c <= 'z') || ('A' <= c && c <= 'Z') || c == '_';
  222 |         }
  223 | 
  224 |         static bool IsAlphaNumeric(char c)
  225 |         {
  226 |                 return IsAlpha(c) || IsDigit(c);
      |                                      ~~~~~~~
      |                                      is_digit
/home/runner/work/forma/forma/src/forma/scanner.cc:273:14: warning: invalid case style for class method 'IsAlpha' [readability-identifier-naming]
  231 |         static bool IsAlpha(char c)
      |                     ^~~~~~~
      |                     is_alpha
  232 |         {
  233 |                 return ('a' <= c && c <= 'z') || ('A' <= c && c <= 'Z') || c == '_';
  234 |         }
  235 | 
  236 |         static bool IsAlphaNumeric(char c)
  237 |         {
  238 |                 return IsAlpha(c) || IsDigit(c);
      |                        ~~~~~~~
      |                        is_alpha
/home/runner/work/forma/forma/src/forma/scanner.cc:278:14: warning: invalid case style for class method 'IsAlphaNumeric' [readability-identifier-naming]
  233 |         static bool IsAlphaNumeric(char c)
      |                     ^~~~~~~~~~~~~~
      |                     is_alpha_numeric
/home/runner/work/forma/forma/src/forma/scanner.cc:283:18: warning: invalid case style for public method 'NextChar' [readability-identifier-naming]
  283 |         ScannerLocation NextChar()
      |                         ^~~~~~~~
      |                         next_char
/home/runner/work/forma/forma/src/forma/scanner.cc:283:18: warning: method 'NextChar' can be made const [readability-make-member-function-const]
  283 |         ScannerLocation NextChar()
      |                         ^         
      |                                    const
/home/runner/work/forma/forma/src/forma/scanner.cc:288:7: warning: invalid case style for public method 'Match' [readability-identifier-naming]
   95 |         bool Match(char expected)
      |              ^~~~~
      |              match
/home/runner/work/forma/forma/src/forma/scanner.cc:303:7: warning: invalid case style for public method 'Peek' [readability-identifier-naming]
   98 |         char Peek()
      |              ^~~~
      |              peek
/home/runner/work/forma/forma/src/forma/scanner.cc:308:7: warning: invalid case style for public method 'PeekNext' [readability-identifier-naming]
  173 |         char PeekNext()
      |              ^~~~~~~~
      |              peek_next
/home/runner/work/forma/forma/src/forma/scanner.cc:310:8: warning: invalid case style for local variable 'suggestedIndex' [readability-identifier-naming]
  310 |                 auto suggestedIndex = current.Index + 1;
      |                      ^~~~~~~~~~~~~~
      |                      suggested_index
  311 |                 return suggestedIndex >= source.size() ? '\0' : source[suggestedIndex];
      |                        ~~~~~~~~~~~~~~                                  ~~~~~~~~~~~~~~
      |                        suggested_index                                 suggested_index
/home/runner/work/forma/forma/src/forma/scanner.cc:314:7: warning: invalid case style for public method 'Advance' [readability-identifier-naming]
   94 |         char Advance()
      |              ^~~~~~~
      |              advance
/home/runner/work/forma/forma/src/forma/scanner.cc:327:11: warning: invalid case style for public method 'GetStartLocation' [readability-identifier-naming]
  139 |         Location GetStartLocation(std::optional<ScannerLocation> stt = std::nullopt)
      |                  ^~~~~~~~~~~~~~~~
      |                  get_start_location
/home/runner/work/forma/forma/src/forma/scanner.cc:333:8: warning: invalid case style for public method 'CreateToken' [readability-identifier-naming]
  104 |         Token CreateToken(
      |               ^~~~~~~~~~~
      |               create_token
/home/runner/work/forma/forma/src/forma/scanner.cc:346:7: warning: invalid case style for public method 'IsAtEnd' [readability-identifier-naming]
   58 |         bool IsAtEnd()
      |              ^~~~~~~
      |              is_at_end
/home/runner/work/forma/forma/src/forma/scanner.cc:346:7: warning: method 'IsAtEnd' can be made const [readability-make-member-function-const]
  346 |         bool IsAtEnd()
      |              ^        
      |                        const
-->
</body>
</html>
